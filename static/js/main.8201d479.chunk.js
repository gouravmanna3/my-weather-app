(this["webpackJsonpmy-weather-app"]=this["webpackJsonpmy-weather-app"]||[]).push([[0],{21:function(e,t,a){},38:function(e,t,a){},63:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(30),i=a.n(r),s=(a(38),a(5)),o=a(19),l=a(10),d=a(6),j=a(31),u=a.n(j),h=(a(21),a(1)),p=function(e){var t=e.iconData,a=e.className,n=null===t||void 0===t?void 0:t.main,c=null;return c="Rain"===n?d.c:"Clouds"===n?d.a:"Drizzle"===n?d.b:"Snow"===n?d.g:"Clear"===n?d.h:d.f,Object(h.jsx)("span",{className:a,children:Object(h.jsx)(l.a,{icon:c})})},b=(a(62),a(86)),O=a(87),x=a(88),m=(a(63),function(){var e=Object(n.useContext)(W),t=e.city,a=e.dispatch,c=e.cityWeather;return Object(h.jsxs)("div",{className:"searchContainer",children:[Object(h.jsx)("h2",{className:"searchCityLabel",children:"Search City"}),Object(h.jsx)(b.a,{className:"searchForm",onSubmit:c,children:Object(h.jsx)(O.a,{children:Object(h.jsx)(x.a,{type:"text",name:"city",value:t,placeholder:"Enter city",className:"searchInput",onChange:function(e){a({type:"SET_CITY",payload:e.target.value})}})})})]})}),v=a(32),T=a.n(v),f=a(89),A=a(90),y=a.p+"static/media/logo.02dac759.gif",S=function(){return Object(h.jsxs)("div",{className:"errorContainer",children:[Object(h.jsx)(l.a,{className:"searchIcon",icon:d.e}),Object(h.jsx)("h2",{children:"city not found \ud83d\ude14"})]})},g={city:"",weatherData:[],weatherDataApiStatus:"notStarted",forecastData:[]},_=function(e,t){switch(t.type){case"SET_CITY":return Object(s.a)(Object(s.a)({},e),{},{city:t.payload});case"SET_WEATHER_DATA":return Object(s.a)(Object(s.a)({},e),{},{weatherData:t.payload});case"SET_FORECAST_DATA":return Object(s.a)(Object(s.a)({},e),{},{forecastData:t.payload});case"SET_WEATHER_DATA_API_STATUS":return Object(s.a)(Object(s.a)({},e),{},{weatherDataApiStatus:t.payload});default:return e}},E=a(13),w=a.n(E),D=a(17),N=a(18),I=a.n(N),C=function(){var e=Object(D.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat("https://api.openweathermap.org/data/2.5","/weather?q=").concat(t,"&units=metric&appid=").concat("fd382ce3a12371ee891de24e01d716c0"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(D.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat("https://api.openweathermap.org/data/2.5","/weather/?lat=").concat(t.lat,"&lon=").concat(t.long,"&units=metric&cnt=10&APPID=").concat("fd382ce3a12371ee891de24e01d716c0"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=c.a.createContext(),R=function(){var e,t,a,c,r,i,j,b,O=Object(n.useState)({lat:"",long:""}),x=Object(o.a)(O,2),v=x[0],E=x[1],w=Object(n.useReducer)(_,g),D=Object(o.a)(w,2),N=D[0],I=D[1],R=Object(n.useCallback)((function(){I({type:"SET_WEATHER_DATA_API_STATUS",payload:"inProgress"}),P(v).then((function(e){I({type:"SET_WEATHER_DATA",payload:e.data}),I({type:"SET_WEATHER_DATA_API_STATUS",payload:"found"})})).catch((function(e){I({type:"SET_WEATHER_DATA_API_STATUS",payload:"error"})}))}),[v.lat,v.long]);Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){E((function(t){return Object(s.a)(Object(s.a)({},t),{},{lat:e.coords.latitude,long:e.coords.longitude})}))})),v.lat&&v.long&&R()}),[v.lat,v.long]);var H=N.weatherData,F=N.weatherDataApiStatus,U=(null===H||void 0===H?void 0:H.weather)?null===H||void 0===H?void 0:H.weather[0]:{};return Object(h.jsxs)("main",{children:[Object(h.jsx)(f.a,{className:"container-fluid",color:"transparent",full:!0,light:!0,expand:"md",children:Object(h.jsxs)(A.a,{className:"brandText",href:"/",children:["My Weather App",Object(h.jsx)("img",{src:y,alt:"logo",className:"brandImg"})]})}),Object(h.jsx)(W.Provider,{value:{state:N,dispatch:I,cityWeather:function(e){e.preventDefault(),I({type:"SET_WEATHER_DATA_API_STATUS",payload:"inProgress"});var t=N.city;C(t).then((function(e){I({type:"SET_WEATHER_DATA",payload:e.data}),I({type:"SET_WEATHER_DATA_API_STATUS",payload:"found"})})).catch((function(e){I({type:"SET_WEATHER_DATA_API_STATUS",payload:"error"})}))}},children:Object(h.jsx)(m,{})}),"inProgress"===F||"notStarted"===F?Object(h.jsx)("div",{className:"loading",children:Object(h.jsx)(u.a,{type:"TailSpin",color:"#FFF",height:100,width:100})}):"error"===F?Object(h.jsx)(S,{}):Object(h.jsxs)("div",{className:"weather-container",children:[Object(h.jsxs)("article",{className:"header",children:[Object(h.jsx)(l.a,{icon:d.d,className:"locationIcon"}),Object(h.jsxs)("span",{children:[" ",null===H||void 0===H?void 0:H.name,", ",null===H||void 0===H||null===(e=H.sys)||void 0===e?void 0:e.country]}),Object(h.jsx)("h4",{children:T()().format("dddd MMMM Do, YYYY")})]}),Object(h.jsxs)("section",{className:"weather",children:[Object(h.jsxs)("article",{className:"desc",children:[Object(h.jsx)(p,{iconData:U,className:"icon"}),Object(h.jsx)("span",{className:"descText",children:(null===H||void 0===H?void 0:H.weather)?null===H||void 0===H?void 0:H.weather[0].description:""})]}),Object(h.jsx)("article",{className:"temp",children:Object(h.jsxs)("span",{children:[parseInt(null===(t=H.main)||void 0===t?void 0:t.temp),"\xb0c"]})}),Object(h.jsxs)("article",{className:"detailsContainer",children:[Object(h.jsxs)("article",{children:[Object(h.jsxs)("h4",{children:[parseInt(null===H||void 0===H||null===(a=H.main)||void 0===a?void 0:a.temp_min),"\xb0c"]}),Object(h.jsx)("span",{children:"Low"})]}),Object(h.jsxs)("article",{children:[Object(h.jsxs)("h4",{children:[null===H||void 0===H||null===(c=H.wind)||void 0===c?void 0:c.speed," m/s"]}),Object(h.jsx)("span",{children:"Wind"})]}),Object(h.jsxs)("article",{children:[Object(h.jsxs)("h4",{children:[null===(r=H.main)||void 0===r?void 0:r.humidity,"%"]}),Object(h.jsx)("span",{children:"Humidity"})]}),Object(h.jsxs)("article",{children:[Object(h.jsxs)("h4",{children:[parseInt(null===H||void 0===H||null===(i=H.main)||void 0===i?void 0:i.temp_max),"\xb0c"]}),Object(h.jsx)("span",{children:"High"})]}),Object(h.jsxs)("article",{children:[Object(h.jsx)("h4",{children:new Date(1e3*(null===H||void 0===H||null===(j=H.sys)||void 0===j?void 0:j.sunrise)).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}),Object(h.jsx)("span",{children:"Sunrise"})]}),Object(h.jsxs)("article",{children:[Object(h.jsx)("h4",{children:new Date(1e3*(null===H||void 0===H||null===(b=H.sys)||void 0===b?void 0:b.sunset)).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}),Object(h.jsx)("span",{children:"Sunset"})]})]})]})]})]})};a(83),a(84);var H=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(R,{}),Object(h.jsxs)("footer",{children:["Developed by Gourav \u2764 Buy me a",Object(h.jsx)("a",{href:"https://www.buymeacoffee.com/gouravmanna3",children:" coffee \u2615"})]})]})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,91)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(H,{})}),document.getElementById("root")),F()}},[[85,1,2]]]);
//# sourceMappingURL=main.8201d479.chunk.js.map